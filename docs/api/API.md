# Mynorel API Reference

## Table of Contents
- [PlotTwist](#PlotTwist)
- [ContinuityChecker](#ContinuityChecker)
- [Connection](#Connection)
- [Config](#Config)
- [QueryBuilder](#QueryBuilder)
- [Narrator](#Narrator)
- [Outline](#Outline)
- [Plots](#Plots)
- [UserPlot](#UserPlot)
- [CommentPlot](#CommentPlot)
- [PostPlot](#PostPlot)
- [BaseDirective](#BaseDirective)
- [FlowDirective](#FlowDirective)
- [RoleDirective](#RoleDirective)
- [CanDirective](#CanDirective)
- [LayoutDirective](#LayoutDirective)
- [NoteDirective](#NoteDirective)
- [ShowDirective](#ShowDirective)
- [IfDirective](#IfDirective)
- [Myneral](#Myneral)
- [LayoutManager](#LayoutManager)
- [Layout](#Layout)
- [FlowManager](#FlowManager)
- [Flow](#Flow)
- [Grammar](#Grammar)
- [Gate](#Gate)
- [Role](#Role)
- [EditPostPolicy](#EditPostPolicy)
- [Author](#Author)
- [Manifest](#Manifest)
- [Chapter](#Chapter)
- [Narrative](#Narrative)
- [Character](#Character)
- [StoryMap](#StoryMap)
- [Scene](#Scene)
- [Rewind](#Rewind)
- [MemoryPalace](#MemoryPalace)
- [ExtensionBootstrapper](#ExtensionBootstrapper)
- [ExtensionServiceProvider](#ExtensionServiceProvider)
- [ExtensionManager](#ExtensionManager)
- [PageTurner](#PageTurner)
- [ThemeSkins](#ThemeSkins)
- [Epic](#Epic)
- [Response](#Response)
- [Dispatcher](#Dispatcher)
- [Request](#Request)
- [Kernel](#Kernel)
- [Prelude](#Prelude)
- [Theme](#Theme)
- [MemoryPalace](#MemoryPalace)
- [Manifest](#Manifest)
- [System](#System)
- [Narrative](#Narrative)
- [EchoFacade](#EchoFacade)
- [Herald](#Herald)
- [Chronicle](#Chronicle)
- [Directive](#Directive)
- [Memory](#Memory)
- [Extension](#Extension)
- [Author](#Author)
- [SetLocale](#SetLocale)
- [VerifyCart](#VerifyCart)
- [Authenticate](#Authenticate)
- [BlessRequest](#BlessRequest)
- [Prelude](#Prelude)
- [Herald](#Herald)
- [Writer](#Writer)
- [LogEntry](#LogEntry)
- [PoeticFormatter](#PoeticFormatter)
- [Chronicle](#Chronicle)
- [MemoryChannel](#MemoryChannel)
- [FileChannel](#FileChannel)
- [Scriptorium](#Scriptorium)
- [PreludePipeline](#PreludePipeline)
- [ChronicleService](#ChronicleService)
- [ThemeService](#ThemeService)
- [SystemService](#SystemService)
- [MemoryService](#MemoryService)
- [DirectiveCompiler](#DirectiveCompiler)
- [AuthorizationService](#AuthorizationService)
- [SyntaxColorizer](#SyntaxColorizer)
- [StylizedPrinter](#StylizedPrinter)
- [Console](#Console)
- [InteractivePrompt](#InteractivePrompt)
- [NarrativeConsole](#NarrativeConsole)
- [ThemeSkinCommand](#ThemeSkinCommand)
- [HeraldCommand](#HeraldCommand)
- [JournalCommand](#JournalCommand)
- [PlotListCommand](#PlotListCommand)
- [LogCommand](#LogCommand)
- [HelpCommand](#HelpCommand)
- [EpicCommand](#EpicCommand)
- [ChapterListCommand](#ChapterListCommand)
- [NarrativeConsoleCommand](#NarrativeConsoleCommand)
- [InstallCommand](#InstallCommand)
- [ManifestCommand](#ManifestCommand)
- [ListCommand](#ListCommand)
- [TestCommand](#TestCommand)
- [DocsGenerateCommand](#DocsGenerateCommand)
- [FlowValidateCommand](#FlowValidateCommand)
- [MemoryPalaceCommand](#MemoryPalaceCommand)
- [PlotlineCommand](#PlotlineCommand)
- [PlotSchemaCommand](#PlotSchemaCommand)
- [PageTurnerCommand](#PageTurnerCommand)
- [PhilosophyCommand](#PhilosophyCommand)
- [PlotQueryCommand](#PlotQueryCommand)
- [FrameworkLocator](#FrameworkLocator)

## PlotTwist

PlotTwist: Narrative event system for Mynorel.
Events are plot twists, listeners are audience reactions.

**Namespace:** `Mynorel\PlotTwist`

### Properties
- `listeners`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).


---

## ContinuityChecker

ContinuityChecker: Checks for plot holes (inconsistencies) before scenes/actions.

**Namespace:** `Mynorel\Continuity`

### Properties
- `rules`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.


---

## Connection

**Namespace:** `Mynorel\Plotline\Database`

### Properties
- `pdo`
- `driver`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```


---

## Config

**Namespace:** `Mynorel\Plotline\Database`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```


---

## QueryBuilder

**Namespace:** `Mynorel\Plotline\Database`

### Properties
- `table`
- `select`
- `where`
- `bindings`
- `limit`
- `order`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```


---

## Narrator

Narrator: Query builder for Plotline ORM (guides the unfolding of data).
In Mynorel, the Narrator tells the story by building and executing queries.

**Namespace:** `Mynorel\Plotline`

### Properties
- `plotClass`: `string`
- `where`: `array`
- `with`: `array`
- `order`: `array`
- `joins`: `array`
- `aggregates`: `array`
- `errors`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.


---

## Outline

Outline: Represents a schema definition for migrations.

**Namespace:** `Mynorel\Plotline\Core`

### Properties
- `fields`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```


---

## Plots

**Namespace:** `Mynorel\Plotline`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array


---

## UserPlot

**Namespace:** `Mynorel\Plotline\Plots`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```


---

## CommentPlot

**Namespace:** `Mynorel\Plotline\Plots`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```


---

## PostPlot

**Namespace:** `Mynorel\Plotline\Plots`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```


---

## BaseDirective

BaseDirective: Abstract base for all Myneral directives.

**Namespace:** `Mynorel\Myneral\Directives`

### Properties
- `content`: `?string`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string


---

## FlowDirective

**Namespace:** `Mynorel\Myneral\Directives`

### Properties

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```


---

## RoleDirective

RoleDirective: Checks if the current user has a given role.
Usage: @role('editor') ... @endrole

**Namespace:** `Mynorel\Myneral\Directives`

### Properties

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```


---

## CanDirective

CanDirective: Checks if the current user can perform an ability.
Usage: @can('edit-post') ... @endcan

**Namespace:** `Mynorel\Myneral\Directives`

### Properties

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```


---

## LayoutDirective

**Namespace:** `Mynorel\Myneral\Directives`

### Properties

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```


---

## NoteDirective

**Namespace:** `Mynorel\Myneral\Directives`

### Properties

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```


---

## ShowDirective

**Namespace:** `Mynorel\Myneral\Directives`

### Properties

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```


---

## IfDirective

**Namespace:** `Mynorel\Myneral\Directives`

### Properties

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```


---

## Myneral

Myneral: The expressive engine for parsing, compiling, and rendering narrative templates.

**Namespace:** `Mynorel\Myneral`

### Properties
- `directives`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string


---

## LayoutManager

**Namespace:** `Mynorel\Myneral\Layouts`

### Properties
- `layouts`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string


---

## Layout

Layout: Represents a composable layout template.

**Namespace:** `Mynorel\Myneral\Layouts`

### Properties
- `name`: `string`
- `sections`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string


---

## FlowManager

**Namespace:** `Mynorel\Myneral\Flows`

### Properties
- `flows`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string


---

## Flow

Flow: Defines a sequence of directives for a narrative flow.

**Namespace:** `Mynorel\Myneral\Flows`

### Properties
- `sequence`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string


---

## Grammar

Grammar: Defines the parsing rules for Myneral's directive language.

**Namespace:** `Mynorel\Myneral\DSL`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Gate

Gate: Internal registry and checker for Mynorel's authorization layer.
Handles permission/denial rules, policy callbacks, policy classes, and ability checks.

**Namespace:** `Mynorel\Author`

### Properties
- `permissions`: `array`
- `denials`: `array`
- `policies`: `array`
- `policyClasses`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Role

Role: Value object representing a character/role in the narrative.

**Namespace:** `Mynorel\Author\Roles`

### Properties
- `name`: `string`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## EditPostPolicy

EditPostPolicy: Example policy (plotline) for editing posts.
Only allows users with the 'editor' role to edit draft posts.

**Namespace:** `Mynorel\Author\Policies`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Author

Author: Facade for defining and checking abilities in Mynorel's authorization layer.
Provides expressive, narrative-first API for permissions.

**Namespace:** `Mynorel\Author`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Manifest

**Namespace:** `Mynorel\Manifest`

### Properties
- `data`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Chapter

Chapter: Encapsulates a narrative chapter (route).

**Namespace:** `Mynorel\Narrative`

### Properties
- `name`: `string`
- `controller`: `?string`
- `middleware`: `array`
- `role`: `?string`
- `character`: `?Mynorel\Narrative\Character`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Narrative

Narrative: Defines chapters, arcs, scenes, and story structure.
Integrates with StoryMap and supports narrative-driven routing.

**Namespace:** `Mynorel\Narrative`

### Properties
- `name`: `string`
- `controller`: `?string`
- `middleware`: `array`
- `role`: `?string`
- `character`: `?Mynorel\Narrative\Character`
- `arcs`: `array`
- `scenes`: `array`
- `characters`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Character

Character: Defines a role/archetype in the narrative.

**Namespace:** `Mynorel\Narrative`

### Properties
- `name`: `string`
- `traits`: `array`
- `evolution`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## StoryMap

StoryMap: Registry/visual map of all chapters.

**Namespace:** `Mynorel\Narrative`

### Properties
- `chapters`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Scene

Scene: Represents a controller-like unit of story.

**Namespace:** `Mynorel\Narrative`

### Properties
- `name`: `string`
- `handler`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Rewind

Rewind: Time travel debugging for Mynorel.
Records and replays scenes (actions).

**Namespace:** `Mynorel\Rewind`

### Properties
- `history`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## MemoryPalace

MemoryPalace: Narrative cache layer for Mynorel.
Store, recall, and forget fragments of your story.

**Namespace:** `Mynorel\MemoryPalace`

### Properties
- `cache`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## ExtensionBootstrapper

ExtensionBootstrapper: Integrates extension booting into Mynorel's core lifecycle.

**Namespace:** `Mynorel\Extensions`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## ExtensionServiceProvider

ExtensionServiceProvider: Handles auto-discovery and lifecycle hooks for extensions.

**Namespace:** `Mynorel\Extensions`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## ExtensionManager

ExtensionManager: Handles registration and loading of Mynorel extensions (side stories).

**Namespace:** `Mynorel\Extensions`

### Properties
- `extensions`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## PageTurner

PageTurner: Narrative pagination for Mynorel.
Each page is a chapter, each turn a new view.

**Namespace:** `Mynorel\PageTurner`

### Properties
- `items`: `array`
- `perPage`: `int`
- `currentPage`: `int`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## ThemeSkins

ThemeSkins: Pluggable theming system for Mynorel CLI/web output.
Skins are narrative themes for your apps presentation.

**Namespace:** `Mynorel\ThemeSkins`

### Properties
- `skins`: `array`
- `active`: `?string`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Epic

Epic: Narrative job/task system for Mynorel.
Jobs are "epics" and background tasks are "side quests."

**Namespace:** `Mynorel\Epic`

### Properties
- `epics`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Response

**Namespace:** `Mynorel\Http`

### Properties
- `content`: `string`
- `status`: `int`
- `headers`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Dispatcher

**Namespace:** `Mynorel\Http`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Request

**Namespace:** `Mynorel\Http`

### Properties
- `query`: `array`
- `body`: `array`
- `server`: `array`
- `cookies`: `array`
- `files`: `array`
- `user`: `?object`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Kernel

**Namespace:** `Mynorel\Http`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Prelude

Prelude: Facade for middleware/prelude integration.

**Namespace:** `Mynorel\Facades`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)


---

## Theme

Theme: Facade for visual and structural theming.

**Namespace:** `Mynorel\Facades`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```


---

## MemoryPalace

MemoryPalace: Facade for narrative cache.

**Namespace:** `Mynorel\Facades`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```


---

## Manifest

Manifest: Facade for manifest/module/philosophy introspection.

**Namespace:** `Mynorel\Facades`

### Properties
- `loaded`: `bool`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```


---

## System

System: Facade for core runtime and environment info.

**Namespace:** `Mynorel\Facades`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```


---

## Narrative

Narrative: Facade for onboarding and storytelling.

**Namespace:** `Mynorel\Facades`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```


---

## EchoFacade

EchoFacade: Facade for output and rendering.

**Namespace:** `Mynorel\Facades`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```


---

## Herald

Herald Facade: Expressive access to the WebSocket layer.

**Namespace:** `Mynorel\Facades`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```


---

## Chronicle

Chronicle: Facade for narrative logging.

**Namespace:** `Mynorel\Facades`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```


---

## Directive

Directive: Facade for syntax and templating engine.

**Namespace:** `Mynorel\Facades`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```


---

## Memory

Memory: Facade for state and persistence.

**Namespace:** `Mynorel\Facades`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```


---

## Extension

Extension: Facade for registering and booting Mynorel extensions (side stories).

**Namespace:** `Mynorel\Facades`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```


---

## Author

Author: Facade for permission checks in directives and templates.

**Namespace:** `Mynorel\Facades`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```


---

## SetLocale

Example Prelude: SetLocale

**Namespace:** `Mynorel\Prelude\Middleware`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```


---

## VerifyCart

Example Prelude: VerifyCart

**Namespace:** `Mynorel\Prelude\Middleware`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```


---

## Authenticate

Example Prelude: Authenticate

**Namespace:** `Mynorel\Prelude\Middleware`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```


---

## BlessRequest

Example Prelude: BlessRequest

**Namespace:** `Mynorel\Prelude\Middleware`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```


---

## Prelude

**Namespace:** `Mynorel\Prelude`

### Properties
- `global`: `array`
- `sequences`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```


---

## Herald

Herald: Mynorel's narrative WebSocket layer (powered by Workerman).
Broadcasts, listens, and narrates real-time events and story fragments.

**Namespace:** `Mynorel\Herald`

### Properties
- `worker`
- `clients`: `array`
- `channels`: `array`
- `sentinels`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```


---

## Writer

Writer: Core logic for logging events in Mynorel's narrative style.
Handles log entry creation, formatting, and channel dispatch.

**Namespace:** `Mynorel\Chronicle`

### Properties
- `entries`: `array`
- `channels`: `array`
- `formatter`: `string`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```


---

## LogEntry

LogEntry: Represents a single log event in the narrative.

**Namespace:** `Mynorel\Chronicle`

### Properties
- `level`: `string`
- `message`: `string`
- `chapter`: `?string`
- `timestamp`: `int`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```


---

## PoeticFormatter

PoeticFormatter: Formats log entries in a narrative, poetic style.

**Namespace:** `Mynorel\Chronicle\Formatters`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```


---

## Chronicle

Chronicle: Facade for narrative logging in Mynorel.
Provides poetic, story-driven log methods.

**Namespace:** `Mynorel\Chronicle`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```


---

## MemoryChannel

MemoryChannel: Stores log entries in memory for retrieval/testing.

**Namespace:** `Mynorel\Chronicle\Channels`

### Properties
- `entries`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```


---

## FileChannel

FileChannel: Persists log entries to a file for cross-process access.

**Namespace:** `Mynorel\Chronicle\Channels`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```


---

## Scriptorium

Scriptorium: Mynorel's narrative service container.
Casts, stores, and retrieves story elements (services, characters, props).

**Namespace:** `Mynorel\Scriptorium`

### Properties
- `bindings`: `array`
- `singletons`: `array`
- `instances`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```


---

## PreludePipeline

**Namespace:** `Mynorel\Services`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```


---

## ChronicleService

**Namespace:** `Mynorel\Services`

### Properties
- `log`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```


---

## ThemeService

**Namespace:** `Mynorel\Services`

### Properties
- `palette`: `array`
- `directives`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```


---

## SystemService

**Namespace:** `Mynorel\Services`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```


---

## MemoryService

**Namespace:** `Mynorel\Services`

### Properties
- `store`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```


---

## DirectiveCompiler

**Namespace:** `Mynorel\Services`

### Properties
- `directives`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```


---

## AuthorizationService

**Namespace:** `Mynorel\Services`

### Properties
- `permissions`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```


---

## SyntaxColorizer

SyntaxColorizer: Adds color to code and meta output for CLI.

**Namespace:** `Mynorel\Console\Output`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```


---

## StylizedPrinter

StylizedPrinter: Handles narrative and styled output for the Mynorel CLI.

**Namespace:** `Mynorel\Console\Output`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```


---

## Console

Console: Mynorel's command chamber and CLI kernel.
Registers and executes commands, providing a narrative CLI experience.

**Namespace:** `Mynorel\Console`

### Properties
- `commands`: `array`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## InteractivePrompt

InteractivePrompt: Narrative CLI prompt and menu support for Mynorel.

**Namespace:** `Mynorel\Console\Support`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## NarrativeConsole

NarrativeConsole: Interactive CLI to play through your app's story.

**Namespace:** `Mynorel\Console`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## ThemeSkinCommand

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## HeraldCommand

HeraldCommand: CLI for real-time narrative (WebSocket) operations.

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## JournalCommand

JournalCommand: Outputs a developer journal from the Chronicle log.

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## PlotListCommand

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## LogCommand

LogCommand: Outputs the narrative log (Chronicle) in poetic style.

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## HelpCommand

HelpCommand: Shows help for all CLI commands.

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## EpicCommand

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## ChapterListCommand

ChapterListCommand: Lists all chapters (routes) in the narrative.

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## NarrativeConsoleCommand

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## InstallCommand

InstallCommand: Installs Mynorel core and modules.

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## ManifestCommand

ManifestCommand: Introspect framework modules and meta-information.

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## ListCommand

ListCommand: Lists all available CLI commands.

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## TestCommand

TestCommand: Runs the Mynorel test suite with narrative output.

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## DocsGenerateCommand

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## FlowValidateCommand

FlowValidateCommand: Validates a named flow and reports missing directives.

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## MemoryPalaceCommand

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```
Execute the command.
@param array $input
@param array $output
@return int

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## PlotlineCommand

PlotlineCommand: Maps out the plotlines (models/ORM) in the application.

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```
Execute the command.
@param array $input
@param array $output
@return int

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## PlotSchemaCommand

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```
Execute the command.
@param array $input
@param array $output
@return int

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(string $plotClass): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## PageTurnerCommand

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```
Execute the command.
@param array $input
@param array $output
@return int

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(string $plotClass): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## PhilosophyCommand

PhilosophyCommand: Shares Mynorel's philosophy and narrative approach.

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```
Execute the command.
@param array $input
@param array $output
@return int

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(string $plotClass): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## PlotQueryCommand

**Namespace:** `Mynorel\Console\Commands`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```
Execute the command.
@param array $input
@param array $output
@return int

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(string $plotClass): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(string $plotClass, array $query): void
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.


---

## FrameworkLocator

FrameworkLocator: Detects and describes the current Mynorel framework environment.

**Namespace:** `Mynorel\Console\Services`

### Public Methods
- ```php
static on(string $twist, callable $reaction): void
```
Register a listener (audience reaction) for a plot twist (event).

- ```php
static trigger(string $twist, $args): void
```
Trigger a plot twist (event).

- ```php
addRule(callable $rule): void
```
Add a continuity rule (closure returns true if valid).

- ```php
check($context): array
```
Run all continuity checks on the given context.

- ```php
static connect()
```

- ```php
static pdo()
```

- ```php
static driver()
```

- ```php
static get($key, $default)
```

- ```php
table($table)
```

- ```php
select($fields)
```

- ```php
where($field, $op, $value)
```

- ```php
orderBy($field, $direction)
```

- ```php
limit($limit)
```

- ```php
get()
```

- ```php
first()
```

- ```php
__construct(string $plotClass)
```

- ```php
where(string $field, string $op, $value): self
```

- ```php
with(string $relation): self
```

- ```php
orderBy(string $field, string $direction): self
```

- ```php
join(string $related, string $localKey, string $foreignKey): self
```

- ```php
aggregate(string $type, string $field): self
```

- ```php
tell(): array
```
Tell the story: execute the query and return results.

- ```php
string(string $name): void
```

- ```php
text(string $name): void
```

- ```php
datetime(string $name): void
```

- ```php
getFields(): array
```

- ```php
static all(): array
```
Return all plot model classes in the Plots directory.
@return array

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
outline(): array
```

- ```php
subplot(): array
```

- ```php
setContent(string $content): void
```
Set the inner content for block directives.
@param string $content
@return void

- ```php
compile($args, array $context): string
```
Compile the directive to PHP or output.
@param mixed $args
@return string

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
compile($args, array $context): string
```

- ```php
static getDirectives(): array
```
Get all registered directives (for validation).
@return array<string, BaseDirective>

- ```php
static registerDirective(string $name, Mynorel\Myneral\Directives\BaseDirective $directive): void
```
Register a directive class.
@param string $name
@param BaseDirective $directive

- ```php
static registerDirectives(array $map): void
```
Register multiple directives at once.
@param array $map [name => BaseDirective]

- ```php
static registerDefaults(): void
```
Register default built-in directives (including Author integration).

- ```php
static compile(string $template, array $context): string
```
Parse and compile a Myneral template string.
@param string $template
@param array $context
@return string Compiled PHP

- ```php
static render(string $template, array $context): string
```
Render a Myneral template with context, flows, and layouts.
@param string $template
@param array $context
@return string

- ```php
static register(string $name, Mynorel\Myneral\Layouts\Layout $layout): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Layouts\Layout
```

- ```php
__construct(string $name, array $sections)
```

- ```php
name(): string
```

- ```php
sections(): array
```

- ```php
static register(string $name, Mynorel\Myneral\Flows\Flow $flow): void
```

- ```php
static get(string $name): ?Mynorel\Myneral\Flows\Flow
```

- ```php
static validate(string $name): array
```
Validate a flow: check that all directives in the flow are registered in Myneral.
@param string $name
@return array List of missing directives (empty if valid)

- ```php
__construct(array $sequence)
```

- ```php
sequence(): array
```

- ```php
static parse(string $template): array
```
Parse a Myneral template string into an array of directive tokens.
@param string $template
@return array

- ```php
static allow(string $ability, string $role): void
```
Allow a role to perform an ability.

- ```php
static deny(string $ability, string $role): void
```
Deny a role from performing an ability.

- ```php
static policy(string $ability, callable $callback): void
```
Register a policy callback for an ability.

@param string $ability
@param callable $callback function($user, ...$args): bool

- ```php
static policyClass(string $ability, string $policyClass): void
```
Register a policy class for an ability.

@param string $ability
@param string $policyClass Fully qualified class name implementing PolicyInterface

- ```php
static can(string $ability, $user, $args): bool
```
Check if a user can perform an ability, optionally with arguments.

@param string $ability
@param mixed $user
@param mixed ...$args
@return bool

- ```php
__construct(string $name)
```
@param string $name

- ```php
name(): string
```
Get the role's name.
@return string

- ```php
is(string $role): bool
```
Check if this role matches a given name.
@param string $role
@return bool

- ```php
enact($user, $args): bool
```
Determine if the user can edit the post.
@param mixed $user
@param mixed ...$args (expects $post as first argument)
@return bool

- ```php
static allow(string $ability): Mynorel\Author\AuthorAbility
```
Begin allowing an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static deny(string $ability): Mynorel\Author\AuthorAbility
```
Begin denying an ability for a role.
@param string $ability
@return AuthorAbility

- ```php
static can(string $ability): Mynorel\Author\AuthorUserAbility
```
Begin checking if a user can perform an ability.
@param string $ability
@return AuthorUserAbility

- ```php
static load(string $path): void
```
Load the mynorel.json manifest file.
@param string $path

- ```php
static modules(): array
```
Get the modules defined in the manifest.
@return array

- ```php
static philosophy(): array
```
Get the philosophy section from the manifest.
@return array

- ```php
static describe(): string
```
Get a human-readable description of the framework's philosophy.
@return string

- ```php
__construct(string $name, ?string $controller, array $middleware, ?string $role, ?Mynorel\Narrative\Character $character)
```

- ```php
characterEvolution(): ?array
```
Get the character's evolution (if any).

- ```php
static chapter(string $name): self
```
Define a chapter (route).

- ```php
static arc(string $name): self
```
Define an arc (access flow).

- ```php
requires(string $role): self
```
Require a role for this chapter/arc, and associate a Character if defined.

- ```php
passesThrough(array|string $middleware): self
```
Add middleware (plot devices).

- ```php
leadsTo(string $controller): void
```
Set the controller/scene for this chapter/arc.

- ```php
static character(string $role, Mynorel\Narrative\Character $character): void
```
Register a Character (role/archetype) for use in chapters/arcs.

- ```php
static scene(string $name, $handler): void
```
Register a scene (controller-like unit).

- ```php
static all(): array
```
Get all chapters.

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```
Find a chapter by name.

- ```php
static findArc(string $name): ?self
```
Find an arc by name.

- ```php
static findScene(string $name): ?Mynorel\Narrative\Scene
```
Find a scene by name.

- ```php
__construct(string $name, array $traits)
```

- ```php
evolve(array $newTraits, ?string $reason): void
```
Evolve the character by changing or adding traits.
@param array $newTraits
@param string|null $reason

- ```php
getEvolution(): array
```
Get the evolution history of the character.
@return array

- ```php
static addChapter(Mynorel\Narrative\Chapter $chapter): void
```

- ```php
static all(): array
```

- ```php
static find(string $name): ?Mynorel\Narrative\Chapter
```

- ```php
__construct(string $name, $handler)
```

- ```php
__invoke($args)
```

- ```php
static record(string $scene, $data): void
```
Record a scene (action).

- ```php
static replay(callable $callback): void
```
Replay all recorded scenes.

- ```php
static clear(): void
```
Clear the history.

- ```php
static inscribe(string $key, $value, int $ttl): void
```
Inscribe (store) a value in the palace.

- ```php
static recall(string $key, $default)
```
Recall (retrieve) a value from the palace.

- ```php
static forget(string $key): void
```
Forget a value from the palace.

- ```php
static clear(): void
```
Clear the entire palace.

- ```php
static bootAllExtensions(): void
```

- ```php
static registerAndBootFromConfig(): void
```
Register and boot all extensions from config/extensions.php

- ```php
static callHook(string $hook, array $args): void
```
Call a lifecycle hook on all extensions if present.
@param string $hook
@param array $args

- ```php
static register(string $class): void
```
Register an extension (side story).
@param string $class
@return void

- ```php
static all(): array
```
Get all registered extensions.
@return array

- ```php
static bootAll(): void
```
Load all registered extensions (call their boot method if present).
@return void

- ```php
cursorChapter($cursor, $limit): array
```
Cursor-based pagination: get items after a given cursor (offset or key).
Returns ['items' => [...], 'next_cursor' => int|null, 'prev_cursor' => int|null]

- ```php
chapterSummary(): string
```
Get a narrative summary of the current chapter.

- ```php
progressBar(int $width): string
```
Get a narrative progress bar for the current chapter.

- ```php
itemsTotal(): int
```
Get the total number of items.

- ```php
isFirstChapter(): bool
```
Is this the first chapter (page)?

- ```php
isLastChapter(): bool
```
Is this the last chapter (page)?

- ```php
__construct(array $items, int $perPage, int $currentPage)
```

- ```php
currentChapter(): array
```
Get items for the current page (chapter).

- ```php
totalChapters(): int
```
Get the total number of pages (chapters).

- ```php
nextChapter(): self
```
Go to the next page (chapter).

- ```php
previousChapter(): self
```
Go to the previous page (chapter).

- ```php
currentPage(): int
```
Get the current page (chapter) number.

- ```php
static register(string $name, callable $formatter): void
```
Register a new skin.

- ```php
static list(): array
```
List all registered skins.

- ```php
static active(): ?string
```
Get the active skin name.

- ```php
static activate(string $name): void
```
Set the active skin.

- ```php
static format(string $text): string
```
Format output using the active skin.

- ```php
static register(string $name, callable $callback): void
```
Register a new epic (job/task).

- ```php
static list(): array
```
List all registered epics.

- ```php
static start(string $name, $args): void
```
Start an epic (job/task).

- ```php
__construct(string $content, int $status, array $headers)
```

- ```php
content(): string
```

- ```php
status(): int
```

- ```php
headers(): array
```

- ```php
send(): void
```

- ```php
static dispatch(Mynorel\Http\Request $request): Mynorel\Http\Response
```
Dispatch the request to the appropriate chapter/scene and return a Response.
@param Request $request
@return Response

- ```php
__construct(array $query, array $body, array $server, array $cookies, array $files, $user)
```

- ```php
method(): string
```

- ```php
path(): string
```

- ```php
query(?string $key, $default)
```

- ```php
input(?string $key, $default)
```

- ```php
user()
```

- ```php
static handle(): void
```
Handle the HTTP request lifecycle.

- ```php
static runForDirective(string $directive, array $context): void
```
Run prelude/middleware for a directive (called by Myneral).

@param string $directive
@param array $context
@return void

- ```php
static run($preludes, $context): void
```
Run prelude(s) by name or class directly (for general use).

@param string|array $preludes
@param mixed $context
@return void

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static inscribe(string $key, $value, int $ttl): void
```

- ```php
static recall(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static clear(): void
```

- ```php
static modules(): array
```

- ```php
static philosophy(): array
```

- ```php
static describe(): string
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static chapter(string $name)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static render($view): void
```

- ```php
static start(int $port): void
```

- ```php
static broadcast(string $channel, string $message): void
```

- ```php
static listen(string $channel, callable $callback): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static interrupt(string $message): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static register(string $class): void
```

- ```php
static bootAll(): void
```

- ```php
static can(string $ability, $user): bool
```

- ```php
static role($user, string $role): bool
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
handle($context): void
```

- ```php
static registerGlobal($preludes): void
```
Register one or more global Preludes.
@param string|array $preludes
@return void

- ```php
static runGlobal($context): void
```
Run all global Preludes (middleware).
@param mixed $context
@return void

- ```php
static run($preludes, $context): void
```
Run one or more Prelude (middleware) classes.

@param string|array $preludes
@param mixed $context
@return void

- ```php
static compose(string $name, array $preludes): void
```
Compose a named sequence of Preludes (middleware pipeline).

@param string $name
@param array $preludes
@return void

- ```php
static sequence(string $name, $context): void
```
Run a named sequence (pipeline) of Preludes.

@param string $name
@param mixed $context
@return void

- ```php
static guard(string $sentinel, callable $ritual, $context)
```
Run a Sentinel (guard) before a Ritual (handler).

@param string $sentinel
@param callable $ritual
@param mixed $context
@return mixed|null

- ```php
setSentinel(string $channel, callable $sentinel): void
```
Set a sentinel (permission callback) for a channel.
@param string $channel
@param callable $sentinel (function($connection, $payload): bool)

- ```php
start(int $port): void
```
Start the Herald WebSocket server.
@param int $port

- ```php
broadcast(string $channel, string $message): void
```
Broadcast a message to a channel.
@param string $channel
@param string $message

- ```php
listen(string $channel, callable $callback): void
```
Listen for messages on a channel (stub).
@param string $channel
@param callable $callback

- ```php
static write(string $level, string $message, ?string $chapter): void
```
Write a log entry.
@param string $level
@param string $message
@param string|null $chapter

- ```php
static addChannel(string $channelClass): void
```
Register a new channel.
@param string $channelClass

- ```php
static setFormatter(string $formatterClass): void
```
Set the formatter class.
@param string $formatterClass

- ```php
static all(): array
```
Get all log entries (prefer persistent FileChannel if available).
@return LogEntry[]

- ```php
__construct(string $level, string $message, ?string $chapter)
```

- ```php
static format(Mynorel\Chronicle\LogEntry $entry): string
```

- ```php
static note(string $message): void
```
Log a general note (info-level).
@param string $message

- ```php
static warn(string $message): void
```
Log a warning (story interruption).
@param string $message

- ```php
static chapter(string $message): void
```
Log a chapter event (major event in the story).
@param string $message

- ```php
static interrupt(string $message): void
```
Log an interruption (error-level event).
@param string $message

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```

- ```php
static send(Mynorel\Chronicle\LogEntry $entry): void
```

- ```php
static all(): array
```
Read all log entries from the file.
@return LogEntry[]

- ```php
static bind(string $name, callable $resolver): void
```
Bind a service (transient).

- ```php
static singleton(string $name, callable $resolver): void
```
Bind a singleton (shared instance).

- ```php
static make(string $name, $args)
```
Resolve a service or singleton.

- ```php
static has(string $name): bool
```
Check if a binding exists.

- ```php
static clear(): void
```
Clear all bindings and instances (for testing).

- ```php
static run(array $preludes, $context): void
```

- ```php
static note(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static chapter(string $message): void
```

- ```php
static all(): array
```

- ```php
static palette(): array
```

- ```php
static get(string $key)
```

- ```php
static registerDirectives(array $map): void
```

- ```php
static uptime(): string
```

- ```php
static memoryUsage(): string
```

- ```php
static environment(): string
```

- ```php
static remember(string $key, $value): void
```

- ```php
static get(string $key, $default)
```

- ```php
static forget(string $key): void
```

- ```php
static compile(string $name, callable $handler): void
```

- ```php
static register(array $directives): void
```

- ```php
allow(string $action, string $role): void
```

- ```php
deny(string $action, string $role): void
```

- ```php
can(string $action, string $role): bool
```

- ```php
static color(string $text, string $type): string
```
Colorize a string for CLI output.
Supports: keyword, string, number, comment, default.

@param string $text
@param string $type
@return string

- ```php
static colorizeCode(string $line): string
```
Colorize code-like output (simple PHP highlighting).

@param string $line
@return string

- ```php
static print(string $message, string $style): void
```

- ```php
static poetic(string $message): void
```

- ```php
static info(string $message): void
```

- ```php
static warn(string $message): void
```

- ```php
static error(string $message): void
```

- ```php
static colorize(string $message, string $type): void
```
Print a colorized string using SyntaxColorizer directly.

- ```php
__construct()
```

- ```php
register(Mynorel\Console\Contracts\CommandInterface $command): void
```
Register a command.
@param CommandInterface $command

- ```php
run(string $name, array $input): int
```
Run a command by name.
@param string $name
@param array $input
@return int Exit code

- ```php
list(): array
```
List all registered commands.
@return array

- ```php
static ask(string $question, string $default): string
```
Prompt the user for input with a narrative message.

- ```php
static menu(string $title, array $options): string
```
Present a menu and return the selected option.

- ```php
static start(): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(): void
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```
Execute the command.
@param array $input
@param array $output
@return int

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(string $plotClass): void
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
execute(array $input, array $output): int
```

- ```php
execute(array $input, array $output): int
```

- ```php
name(): string
```

- ```php
description(): string
```

- ```php
static handle(string $plotClass, array $query): void
```

- ```php
static detect(): string
```

### Protected Methods
- ```php
static applyFlow(string $compiled, $flow, array $context): string
```
Apply a flow to compiled content.
@param string $compiled
@param $flow
@param array $context
@return string

- ```php
static applyLayout(string $compiled, $layout, array $context): string
```
Apply a layout to compiled content.
@param string $compiled
@param $layout
@param array $context
@return string

- ```php
static isBlockDirective(string $name): bool
```
Determine if a directive is a block directive (requires end...)

- ```php
static service()
```

- ```php
static service()
```

- ```php
static ensureLoaded(): void
```

- ```php
static service()
```

- ```php
static service()
```

- ```php
static logFile(): string
```

- ```php
registerDefaults(): void
```
Register default Mynorel commands.

